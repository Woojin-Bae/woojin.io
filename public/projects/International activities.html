<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 1 Details</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        p {
            text-align: justify;
        }
        .left {
            text-align: left;
        }
        .map-container {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column; /* 지도 아래에 정보가 나오도록 */
        }
        #map {
            height: 600px;
            width: 80%;
        }
        .info-container {
            width: 80%;
            margin-top: 20px;
            text-align: left;
            padding: 10px;
            border: 1px solid #ccc;
        }
        @media (max-width: 768px) {
            #map {
                height: 400px;
                width: 90%;
            }
            .info-container {
                width: 90%;
            }
        }
        @media (max-width: 480px) {
            #map {
                height: 300px;
                width: 95%;
            }
            .info-container {
                width: 95%;
            }
        }
    </style>
    <script>
        fetch('/api-key')
            .then(response => response.json())
            .then(data => {
                const apiKey = data.apiKey;
                
                const script = document.createElement('script');
                script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=loadMap`;
                script.async = true;
                document.head.appendChild(script);
            })
            .catch(error => console.error('Error fetching API key:', error));

        function loadMap() {
            let zoomLevel;
            if (window.innerWidth <= 480) {
                zoomLevel = 1;
            } else if (window.innerWidth <= 768) {
                zoomLevel = 2;
            } else {
                zoomLevel = 2.9;
            }

            const center = { lat: 37.44887, lng: 126.9517 };
            const kams = { lat: 38.871596625562155, lng: -99.34400590392508 };
            const joint = { lat: 22.2799020, lng: 114.1896750 };
            const brussels = { lat: 50.821461305622904, lng: 4.391829231282265 };
            const umn = { lat: 44.9741038190935, lng: -93.22766412838796 };
            const hkust = { lat: 22.33767323092721, lng: 114.26389242462663 };
            const tokyo = { lat: 35.713928318109815, lng: 139.7629625039479 };
            const kaist = { lat: 36.3728, lng: 127.3620 };

            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: zoomLevel,
                center: center,
            });

            const iconOptions = {
                scale: 3,  // 마커 크기 조절
                fillColor: '#FF0000',  // 마커 내부 색상
                fillOpacity: 1,  // 내부 색상 투명도
                strokeWeight: 2,  // 외곽선 두께
                strokeColor: '#FFFFFF',  // 외곽선 색상
            };

            const markers = [
                { 
                    position: center, 
                    content: `
                        <h2>Multi-dimensional Materials Chemistry Lab</h2>
                        <h3>Seoul National University</h3>
                        <p>Synthesis Ag cluster-based AIGS(silver indium gallium sulfide)-core</p>
                        <p>Analyze LMBs SEI Components by Cryo-TEM Imaging and region-specific characterization</p>
                        <a href="https://parklab.snu.ac.kr" target="_blank" style="color:blue; text-decoration:underline;">Home page</a>
                    `
                },
                { 
                    position: kams, 
                    content: `
                        <h2>Summer International Exchange program</h2>
                        <h3>Kansas Academy of Mathematics and Science</h3>
                        <p>Synthesis of conventional Quantum dots, CdSe; eco-friendly Quantum Dots, ZnSe. Applying them on Gratzel cell</p>
                    `
                },
                { 
                    position: joint, 
                    content: `
                        <h2>51st Joint School Science Exhibition Korean representative</h2>
                        <h3>51st Joint School Science Exhibition</h3>
                        <p>Wettability Change of Self-Assembled Monolayers (SAMs) of Thiol on Gold</p>
                    `
                },
                { 
                    position: brussels, 
                    content: `
                        <h2>SNU in EU Program</h2>
                        <h3>Brussels School of Governance</h3>
                        <p>Understanding European Unions (EU)</p>
                        <p>Make a presentation about 'The European External Action Service'</p>
                    `
                },
                { 
                    position: umn, 
                    content: `
                        <h2>SNU-UMN Culture Exchange Program</h2>
                        <h3>University of Minnesota</h3>
                        <p>Sharing both American and South Korean culture via Zoom</p>
                    `
                },
                { 
                    position: hkust, 
                    content: `
                        <h2>AUA-HKUST Entrepreneurship Bootcamp 2024</h3>
                        <h3>Hong Kong University of Science and Technology</h2>
                        <p>Borderless Healthcare: A Platform for Overseas Patients to Obtain Prescriptions Everywhere</p>
                        <a href="https://www.linkedin.com/posts/hkust-entrepreneurship-center_weeepark-chandangsocialservicesfoundation-activity-7216736929734643712-84jD?utm_source=share&utm_medium=member_desktop" target="_blank" style="color:blue; text-decoration:underline;">LinkedIn</a>
                    `
                },
                { 
                    position: tokyo, 
                    content: `
                        <h2>Tokyo Forum Youth Session</h3>
                        <h3>The University of Tokyo</h3>
                        <p>Ongoing project</p>
                        <a href="https://n.news.naver.com/article/011/0004386074?sid=101" target="_blank" style="color:blue; text-decoration:underline;">News Link</a>
                    `
                },
                { 
                    position: kaist, 
                    content: `
                        <h2>Center for Cell-Encapsulation Research</h2>
                        <h3>Korea Advanced Institute of Science and Technology</h3>
                        <p>Created a porous titanium oxide shell to facilitate the simple culturing of astrocytes</p>
                        <p>Confirmed the function of encapsulated astrocytes by analyzing the length of neurons co-cultured with astrocytes</p>
                    `
                }
            ];

            markers.forEach(({ position, content }) => {
                const marker = new google.maps.Marker({
                    position,
                    map,
                    icon: iconOptions,  // 아이콘 설정
                });

                marker.addListener("click", () => {
                    const infoContainer = document.getElementById('info-container');
                    infoContainer.innerHTML = content;
                });
            });
        }
    </script>
</head>
<body>
    <nav>
        <ul>
            <li><a href="../index.html">About</a></li>
            <li><a href="../projects.html">Projects</a></li>
            <li><a href="../2020-10600_WoojinBae.pdf">CV</a></li>
            <li><a href="../publications.html">Publications</a></li>
        </ul>
    </nav>
    <header>
        <h1>International Activities</h1>
    </header>
    <div class="map-container">
        <div id="map"></div>
        <div id="info-container" class="info-container">
            <!-- 여기에서 마커를 클릭하면 정보가 표시됩니다 -->
        </div>
    </div>
    <hr>
    <a href="../projects.html" class="btn">Back to Projects</a>
</body>
</html>